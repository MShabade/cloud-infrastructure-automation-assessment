<body>
  <div class="card">
    <h1>Infra-Automation</h1>

    <p>
      Deployed via 
      <span class="highlight">Terraform â†’ EC2 â†’ Ansible â†’ GitHub Actions</span>
    </p>

    <p>By <span class="highlight">Mahendra Shabade</span></p>

    <button id="deployBtn" onclick="runPipeline()">Run Pipeline</button>

    <div style="margin-top:20px;">
      <div id="progressContainer" style="display:none; background:#eee; border-radius:8px; overflow:hidden;">
        <div id="progressBar" style="height:10px; width:0%; background:#2575fc; transition: width 0.4s;"></div>
      </div>
    </div>

    <div id="status" style="margin-top:15px; font-weight:bold;"></div>

    <footer style="margin-top:20px;"> Your DevOps Pipeline is live </footer>
  </div>

  <script>
    function runPipeline() {
      const btn = document.getElementById("deployBtn");
      const status = document.getElementById("status");
      const progressBar = document.getElementById("progressBar");
      const progressContainer = document.getElementById("progressContainer");

      btn.disabled = true;
      btn.innerText = "Running...";
      progressContainer.style.display = "block";
      progressBar.style.width = "0%";
      status.innerHTML = "ðŸš€ Initializing Terraform...";

      let progress = 0;

      const steps = [
        "ðŸ”§ Provisioning EC2 via Terraform...",
        "âš™ï¸ Configuring Server with Ansible...",
        "ðŸ“¦ Building Docker Image...",
        "ðŸš€ Deploying via GitHub Actions...",
        "âœ… Deployment Successful!"
      ];

      let stepIndex = 0;

      const interval = setInterval(() => {
        progress += 20;
        progressBar.style.width = progress + "%";

        if (stepIndex < steps.length) {
          status.innerHTML = steps[stepIndex];
          stepIndex++;
        }

        if (progress >= 100) {
          clearInterval(interval);
          btn.disabled = false;
          btn.innerText = "Run Again";
        }
      }, 1000);
    }
  </script>
</body>
</html>
